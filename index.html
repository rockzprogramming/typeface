<html><head><base href="/" />
<meta charset="UTF-8">
<title>Google Docs Clone</title>
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --blue-500: #4285f4;
  --gray-100: #f1f3f4;
  --gray-200: #e8eaed;
  --gray-700: #5f6368;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Quicksand', sans-serif;
}

body {
  overflow-x: hidden;
}

.header {
  display: flex;
  align-items: center;
  padding: 8px 16px;
  border-bottom: 1px solid var(--gray-200);
  background: white;
  position: sticky;
  top: 0;
  z-index: 100;
  transition: box-shadow 0.3s ease;
}

.header.scrolled {
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.doc-title {
  border: none;
  font-size: 18px;
  padding: 4px 8px;
  border-radius: 4px;
  width: 200px;
  transition: all 0.3s ease;
}

.doc-title:hover {
  background: var(--gray-100);
  width: 300px;
}

.toolbar {
  display: flex;
  align-items: center;
  padding: 8px;
  border-bottom: 1px solid var(--gray-200);
  gap: 8px;
  background: white;
  position: sticky;
  top: 56px;
  z-index: 99;
}

.toolbar-group {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 0 8px;
  border-right: 1px solid var(--gray-200);
}

.toolbar-button {
  padding: 6px;
  border-radius: 4px;
  border: none;
  background: none;
  cursor: pointer;
  color: var(--gray-700);
  transition: all 0.2s ease;
  position: relative;
}

.toolbar-button:hover {
  background: var(--gray-100);
  transform: translateY(-1px);
}

.toolbar-button:active {
  transform: translateY(1px);
}

.toolbar-button::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: -30px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0,0,0,0.8);
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  opacity: 0;
  visibility: hidden;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.toolbar-button:hover::after {
  opacity: 1;
  visibility: visible;
}

.content {
  width: 100%;
  max-width: 850px;
  margin: 0 auto;
  padding: 40px;
  min-height: calc(100vh - 128px);
}

.editor {
  width: 100%;
  min-height: 1100px;
  padding: 40px;
  border: 1px solid var(--gray-200);
  border-radius: 4px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  outline: none;
  transition: box-shadow 0.3s ease;
}

.editor:focus {
  box-shadow: 0 4px 12px rgba(66,133,244,0.2);
}

@keyframes saveIndicator {
  0% { opacity: 0; transform: translateY(10px); }
  10% { opacity: 1; transform: translateY(0); }
  90% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-10px); }
}

.save-indicator {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: var(--gray-700);
  color: white;
  padding: 8px 16px;
  border-radius: 4px;
  opacity: 0;
  animation: saveIndicator 2s ease forwards;
}

.suggestion-popup {
  position: absolute;
  background: white;
  border: 1px solid var(--gray-200);
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  padding: 4px 0;
  max-width: 200px;
  z-index: 1000;
  display: none;
}

.suggestion-item {
  padding: 4px 12px;
  cursor: pointer;
  transition: background 0.2s ease;
}

.suggestion-item:hover {
  background: var(--gray-100);
}

.themes-panel {
  position: fixed;
  right: -300px;
  top: 0;
  width: 300px;
  height: 100vh;
  background: white;
  box-shadow: -2px 0 8px rgba(0,0,0,0.1);
  transition: right 0.3s ease;
  z-index: 101;
  padding: 20px;
  overflow-y: auto;
}

.themes-panel.open {
  right: 0;
}

.theme-option {
  display: flex;
  align-items: center;
  padding: 8px;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s ease;
  margin-bottom: 8px;
}

.theme-option:hover {
  background: var(--gray-100);
}

.theme-preview {
  width: 40px;
  height: 40px;
  border-radius: 4px;
  margin-right: 12px;
}
</style>
</head>
<body>
  <div class="header">
    <input type="text" class="doc-title" value="Untitled document">
  </div>

  <div class="toolbar">
    <div class="toolbar-group">
      <button class="toolbar-button" data-command="undo" data-tooltip="Undo">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>
        </svg>
      </button>
      <button class="toolbar-button" data-command="bold" data-tooltip="Bold">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"/>
        </svg>
      </button>
      <button class="toolbar-button" data-command="italic" data-tooltip="Italic">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"/>
        </svg>
      </button>
    </div>

    <div class="toolbar-group">
      <button class="toolbar-button" data-command="fontSize" data-tooltip="Font size">11</button>
      <button class="toolbar-button" data-tooltip="More options">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M7 14l5-5 5 5z"/>
        </svg>
      </button>
      <button class="toolbar-button" id="theme-toggle" data-tooltip="Themes">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
        </svg>
      </button>
    </div>

    <div class="toolbar-group">
      <button class="toolbar-button" data-command="justifyLeft" data-tooltip="Align left">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2z"/>
        </svg>
      </button>
      <button class="toolbar-button" data-command="justifyCenter" data-tooltip="Center">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M7 15v2h10v-2H7zm-4-4h18v-2H3v2zm4-4h10V5H7v2zm-4 12h18v-2H3v2z"/>
        </svg>
      </button>
      <button class="toolbar-button" data-command="justifyRight" data-tooltip="Align right">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
        </svg>
      </button>
    </div>

    <div class="toolbar-group">
      <button class="toolbar-button" data-command="insertUnorderedList" data-tooltip="Bullet list">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
        </svg>
      </button>
      <button class="toolbar-button" data-command="insertOrderedList" data-tooltip="Numbered list">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
        </svg>
      </button>
    </div>

    <div class="toolbar-group">
      <button class="toolbar-button" data-command="underline" data-tooltip="Underline">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
        </svg>
      </button>
      <button class="toolbar-button" data-command="strikethrough" data-tooltip="Strikethrough">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M7.24 8.75c-.26-.48-.39-1.03-.39-1.67 0-.61.13-1.16.4-1.67.26-.5.63-.93 1.11-1.29.48-.35 1.05-.63 1.7-.83.66-.19 1.39-.29 2.18-.29.81 0 1.54.11 2.21.34.66.22 1.23.54 1.69.94.47.4.83.88 1.08 1.43.25.55.38 1.15.38 1.81h-3.01c0-.31-.05-.59-.15-.85-.09-.27-.24-.49-.44-.68-.2-.19-.45-.33-.75-.44-.3-.1-.66-.16-1.06-.16-.39 0-.74.04-1.03.13-.29.09-.53.21-.72.36-.19.16-.34.34-.44.55-.1.21-.15.43-.15.66 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.05-.08-.11-.17-.15-.25zM21 12v-2H3v2h9.62c.18.07.4.14.55.2.37.17.66.34.87.51.21.17.35.36.43.57.07.2.11.43.11.69 0 .23-.05.45-.14.66-.09.2-.23.38-.42.53-.19.15-.42.26-.71.35-.29.08-.63.13-1.01.13-.43 0-.83-.04-1.18-.13s-.66-.23-.91-.42c-.25-.19-.45-.44-.59-.75-.14-.31-.25-.76-.25-1.21H6.4c0 .55.08 1.13.24 1.58.16.45.37.85.65 1.21.28.35.6.66.98.92.37.26.78.48 1.22.65.44.17.9.3 1.38.39.48.08.96.13 1.44.13.8 0 1.53-.09 2.18-.28s1.21-.45 1.67-.79c.46-.34.82-.77 1.07-1.27s.38-1.07.38-1.71c0-.6-.1-1.14-.31-1.61-.05-.11-.11-.23-.17-.33H21z"/>
        </svg>
      </button>
    </div>

    <div class="toolbar-group">
      <button class="toolbar-button" data-command="outdent" data-tooltip="Decrease indent">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>
        </svg>
      </button>
      <button class="toolbar-button" data-command="indent" data-tooltip="Increase indent">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path fill="currentColor" d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>
        </svg>
      </button>
    </div>
  </div>

  <div class="content">
    <div class="editor" contenteditable="true">
      <p>Type your document here...</p>
    </div>
  </div>

  <div class="themes-panel">
    <h3>Choose Theme</h3>
    <div id="themes-list"></div>
  </div>

  <div class="suggestion-popup"></div>

<script>
// Function to save to cookies
function setCookie(name, value, days) {
  const expires = new Date();
  expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);
  document.cookie = `${name}=${encodeURIComponent(value)};expires=${expires.toUTCString()};path=/`;
}

// Function to get from cookies
function getCookie(name) {
  const value = `; ${document.cookie}`;
  const parts = value.split(`; ${name}=`);
  if (parts.length === 2) return decodeURIComponent(parts.pop().split(';').shift());
}

// Load saved theme and content on page load
document.addEventListener('DOMContentLoaded', function() {
  // Load saved theme
  const savedTheme = getCookie('selectedTheme');
  if (savedTheme) {
    const theme = themes.find(t => t.name === savedTheme);
    if (theme) applyTheme(theme);
  }

  // Load saved content
  const savedContent = getCookie('documentContent');
  if (savedContent) {
    document.querySelector('.editor').innerHTML = savedContent;
  }

  // Load saved title
  const savedTitle = getCookie('documentTitle');
  if (savedTitle) {
    document.querySelector('.doc-title').value = savedTitle;
    document.title = savedTitle + ' - Google Docs';
  }
});

// Modify the applyTheme function to save theme selection
function applyTheme(theme) {
  // ... (existing theme application code) ...

  // Save theme selection to cookie
  setCookie('selectedTheme', theme.name, 30);
}

// Modify the editor input listener to save content
document.querySelector('.editor').addEventListener('input', function() {
  // Save content to cookie
  setCookie('documentContent', this.innerHTML, 30);
  
  // ... (existing autosave code) ...
});

// Save document title
document.querySelector('.doc-title').addEventListener('input', function(e) {
  setCookie('documentTitle', e.target.value, 30);
  // ... (existing title code) ...
});

// Add export functionality to the toolbar
const exportGroup = document.createElement('div');
exportGroup.className = 'toolbar-group';
exportGroup.innerHTML = `
  <button class="toolbar-button" data-command="exportPDF" data-tooltip="Export as PDF">
    <svg viewBox="0 0 24 24" width="20" height="20">
      <path fill="currentColor" d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"/>
    </svg>
  </button>
  <button class="toolbar-button" data-command="exportTXT" data-tooltip="Export as TXT">
    <svg viewBox="0 0 24 24" width="20" height="20">
      <path fill="currentColor" d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"/>
    </svg>
  </button>
`;

document.querySelector('.toolbar').appendChild(exportGroup);

// Add export functionality
function exportAsPDF() {
  const content = document.querySelector('.editor').innerHTML;
  const style = `
    <style>
      body { font-family: 'Quicksand', sans-serif; }
      * { color: ${getComputedStyle(document.body).color} !important; }
    </style>
  `;
  
  const win = window.open('', '_blank');
  win.document.write(`<html><head>${style}</head><body>${content}</body></html>`);
  win.document.close();
  win.print();
}

function exportAsTXT() {
  const content = document.querySelector('.editor').innerText;
  const blob = new Blob([content], { type: 'text/plain' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `${document.querySelector('.doc-title').value || 'document'}.txt`;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}

// Add export button event listeners
document.querySelector('[data-command="exportPDF"]').addEventListener('click', exportAsPDF);
document.querySelector('[data-command="exportTXT"]').addEventListener('click', exportAsTXT);
</script>

</body></html>
